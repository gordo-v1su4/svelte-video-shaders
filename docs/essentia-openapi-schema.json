{"openapi":"3.1.0","info":{"title":"Audio Analysis API","description":"High-quality music analysis using Essentia C++ core via Python.","version":"2.0.0"},"paths":{"/analyze/rhythm":{"post":{"tags":["Analysis"],"summary":"Analyze Rhythm","description":"Extract BPM, beats, confidence, and high-quality onsets.","operationId":"analyze_rhythm_analyze_rhythm_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_rhythm_analyze_rhythm_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RhythmAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze/structure":{"post":{"tags":["Analysis"],"summary":"Analyze Structure","description":"Segment audio into sections (intro, verse, chorus, etc.) using SBic.","operationId":"analyze_structure_analyze_structure_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_structure_analyze_structure_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze/classification":{"post":{"tags":["Analysis"],"summary":"Analyze Classification","description":"Analyze Genre, Mood, and Tags using Essentia TensorFlow models.","operationId":"analyze_classification_analyze_classification_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_classification_analyze_classification_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassificationAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze/full":{"post":{"tags":["Analysis"],"summary":"Analyze Full","description":"Perform full rhythm, structural, and classification analysis.","operationId":"analyze_full_analyze_full_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_full_analyze_full_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FullAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["System"],"summary":"Health","description":"Check API health status.","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_analyze_classification_analyze_classification_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_classification_analyze_classification_post"},"Body_analyze_full_analyze_full_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_full_analyze_full_post"},"Body_analyze_rhythm_analyze_rhythm_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_rhythm_analyze_rhythm_post"},"Body_analyze_structure_analyze_structure_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_structure_analyze_structure_post"},"ClassificationAnalysis":{"properties":{"genres":{"$ref":"#/components/schemas/ClassificationResult"},"moods":{"$ref":"#/components/schemas/ClassificationResult"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"}},"type":"object","required":["genres","moods","tags"],"title":"ClassificationAnalysis"},"ClassificationResult":{"properties":{"label":{"type":"string","title":"Label"},"confidence":{"type":"number","title":"Confidence"},"all_scores":{"additionalProperties":{"type":"number"},"type":"object","title":"All Scores"}},"type":"object","required":["label","confidence","all_scores"],"title":"ClassificationResult"},"FullAnalysis":{"properties":{"bpm":{"type":"number","title":"Bpm"},"beats":{"items":{"type":"number"},"type":"array","title":"Beats"},"confidence":{"type":"number","title":"Confidence"},"onsets":{"items":{"type":"number"},"type":"array","title":"Onsets"},"duration":{"type":"number","title":"Duration"},"structure":{"$ref":"#/components/schemas/StructureAnalysis"},"classification":{"anyOf":[{"$ref":"#/components/schemas/ClassificationAnalysis"},{"type":"null"}]},"tonal":{"anyOf":[{"$ref":"#/components/schemas/TonalAnalysis"},{"type":"null"}]}},"type":"object","required":["bpm","beats","confidence","onsets","duration","structure"],"title":"FullAnalysis"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"RhythmAnalysis":{"properties":{"bpm":{"type":"number","title":"Bpm"},"beats":{"items":{"type":"number"},"type":"array","title":"Beats"},"confidence":{"type":"number","title":"Confidence"},"onsets":{"items":{"type":"number"},"type":"array","title":"Onsets"},"duration":{"type":"number","title":"Duration"}},"type":"object","required":["bpm","beats","confidence","onsets","duration"],"title":"RhythmAnalysis"},"Section":{"properties":{"start":{"type":"number","title":"Start"},"end":{"type":"number","title":"End"},"label":{"type":"string","title":"Label"},"duration":{"type":"number","title":"Duration"}},"type":"object","required":["start","end","label","duration"],"title":"Section"},"StructureAnalysis":{"properties":{"sections":{"items":{"$ref":"#/components/schemas/Section"},"type":"array","title":"Sections"},"boundaries":{"items":{"type":"number"},"type":"array","title":"Boundaries"}},"type":"object","required":["sections","boundaries"],"title":"StructureAnalysis"},"TonalAnalysis":{"properties":{"key":{"type":"string","title":"Key"},"scale":{"type":"string","title":"Scale"},"strength":{"type":"number","title":"Strength"}},"type":"object","required":["key","scale","strength"],"title":"TonalAnalysis"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}