{"openapi":"3.1.0","info":{"title":"Audio Analysis API","description":"High-quality music analysis using Essentia C++ core via Python.","version":"3.0.0","license":{"name":"Proprietary","identifier":"LicenseRef-Proprietary"}},"paths":{"/analyze/rhythm":{"post":{"tags":["Analysis"],"summary":"Analyze Rhythm","description":"Extract BPM, beats, confidence, and high-quality onsets.","operationId":"analyze_rhythm_analyze_rhythm_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_rhythm_analyze_rhythm_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RhythmAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/analyze/structure":{"post":{"tags":["Analysis"],"summary":"Analyze Structure","description":"Segment audio into sections (intro, verse, chorus, etc.) using SBic.","operationId":"analyze_structure_analyze_structure_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_structure_analyze_structure_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/analyze/classification":{"post":{"tags":["Analysis"],"summary":"Analyze Classification","description":"Analyze Genre, Mood, Tags, and additional classification features using Essentia TensorFlow models.","operationId":"analyze_classification_analyze_classification_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"features","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of features to analyze. Available: genre, mood, tags, danceability, approachability, engagement, acoustic_electronic, bright_dark, instrument, tonal_atonal. Default: all.","title":"Features"},"description":"Comma-separated list of features to analyze. Available: genre, mood, tags, danceability, approachability, engagement, acoustic_electronic, bright_dark, instrument, tonal_atonal. Default: all."}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_classification_analyze_classification_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassificationAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze/tonal":{"post":{"tags":["Analysis"],"summary":"Analyze Tonal","description":"Extract key, scale, deep-learning tempo (TempoCNN), and pitch (CREPE).","operationId":"analyze_tonal_analyze_tonal_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_tonal_analyze_tonal_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnhancedTonalAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/analyze/vocals":{"post":{"tags":["Analysis"],"summary":"Analyze Vocals","description":"Detect whether audio contains vocals or is instrumental.","operationId":"analyze_vocals_analyze_vocals_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_vocals_analyze_vocals_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VocalAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/analyze/full":{"post":{"tags":["Analysis"],"summary":"Analyze Full","description":"Perform full rhythm, structural, classification, tonal, and vocal analysis.","operationId":"analyze_full_analyze_full_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_full_analyze_full_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FullAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/health":{"get":{"tags":["System"],"summary":"Health","description":"Check API health status.","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request"},"500":{"description":"Internal Server Error"}},"security":[]}}},"components":{"schemas":{"Body_analyze_classification_analyze_classification_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_classification_analyze_classification_post"},"Body_analyze_full_analyze_full_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_full_analyze_full_post"},"Body_analyze_rhythm_analyze_rhythm_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_rhythm_analyze_rhythm_post"},"Body_analyze_structure_analyze_structure_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_structure_analyze_structure_post"},"Body_analyze_tonal_analyze_tonal_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_tonal_analyze_tonal_post"},"Body_analyze_vocals_analyze_vocals_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_analyze_vocals_analyze_vocals_post"},"ClassificationAnalysis":{"properties":{"genres":{"anyOf":[{"$ref":"#/components/schemas/ClassificationResult"},{"type":"null"}]},"moods":{"anyOf":[{"$ref":"#/components/schemas/ClassificationResult"},{"type":"null"}]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"danceability":{"anyOf":[{"$ref":"#/components/schemas/ClassificationFeature"},{"type":"null"}]},"approachability":{"anyOf":[{"$ref":"#/components/schemas/ClassificationFeature"},{"type":"null"}]},"engagement":{"anyOf":[{"$ref":"#/components/schemas/ClassificationFeature"},{"type":"null"}]},"acoustic_electronic":{"anyOf":[{"$ref":"#/components/schemas/ClassificationFeature"},{"type":"null"}]},"bright_dark":{"anyOf":[{"$ref":"#/components/schemas/ClassificationFeature"},{"type":"null"}]},"instrument":{"anyOf":[{"items":{"$ref":"#/components/schemas/ClassificationFeature"},"type":"array"},{"type":"null"}],"title":"Instrument"},"tonal_atonal":{"anyOf":[{"$ref":"#/components/schemas/ClassificationFeature"},{"type":"null"}]}},"type":"object","title":"ClassificationAnalysis"},"ClassificationFeature":{"properties":{"label":{"type":"string","title":"Label"},"confidence":{"type":"number","title":"Confidence"}},"type":"object","required":["label","confidence"],"title":"ClassificationFeature"},"ClassificationResult":{"properties":{"label":{"type":"string","title":"Label"},"confidence":{"type":"number","title":"Confidence"},"all_scores":{"additionalProperties":{"type":"number"},"type":"object","title":"All Scores"}},"type":"object","required":["label","confidence","all_scores"],"title":"ClassificationResult"},"EnergyData":{"properties":{"mean":{"type":"number","title":"Mean"},"std":{"type":"number","title":"Std"},"curve":{"items":{"type":"number"},"type":"array","title":"Curve"}},"type":"object","required":["mean","std","curve"],"title":"EnergyData"},"EnhancedTonalAnalysis":{"properties":{"key":{"type":"string","title":"Key"},"scale":{"type":"string","title":"Scale"},"strength":{"type":"number","title":"Strength"},"tempo_cnn":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Tempo Cnn"},"pitch":{"anyOf":[{"$ref":"#/components/schemas/PitchData"},{"type":"null"}]}},"type":"object","required":["key","scale","strength"],"title":"EnhancedTonalAnalysis"},"FullAnalysis":{"properties":{"bpm":{"type":"number","title":"Bpm"},"beats":{"items":{"type":"number"},"type":"array","title":"Beats"},"confidence":{"type":"number","title":"Confidence"},"onsets":{"items":{"type":"number"},"type":"array","title":"Onsets"},"duration":{"type":"number","title":"Duration"},"energy":{"$ref":"#/components/schemas/EnergyData"},"structure":{"$ref":"#/components/schemas/StructureAnalysis"},"classification":{"anyOf":[{"$ref":"#/components/schemas/ClassificationAnalysis"},{"type":"null"}]},"tonal":{"anyOf":[{"$ref":"#/components/schemas/EnhancedTonalAnalysis"},{"type":"null"}]},"vocals":{"anyOf":[{"$ref":"#/components/schemas/VocalAnalysis"},{"type":"null"}]}},"type":"object","required":["bpm","beats","confidence","onsets","duration","energy","structure"],"title":"FullAnalysis"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PitchData":{"properties":{"mean_frequency":{"type":"number","title":"Mean Frequency"},"confidence":{"type":"number","title":"Confidence"}},"type":"object","required":["mean_frequency","confidence"],"title":"PitchData"},"RhythmAnalysis":{"properties":{"bpm":{"type":"number","title":"Bpm"},"beats":{"items":{"type":"number"},"type":"array","title":"Beats"},"confidence":{"type":"number","title":"Confidence"},"onsets":{"items":{"type":"number"},"type":"array","title":"Onsets"},"duration":{"type":"number","title":"Duration"},"energy":{"$ref":"#/components/schemas/EnergyData"}},"type":"object","required":["bpm","beats","confidence","onsets","duration","energy"],"title":"RhythmAnalysis"},"Section":{"properties":{"start":{"type":"number","title":"Start"},"end":{"type":"number","title":"End"},"label":{"type":"string","title":"Label"},"duration":{"type":"number","title":"Duration"},"energy":{"type":"number","title":"Energy"}},"type":"object","required":["start","end","label","duration","energy"],"title":"Section"},"StructureAnalysis":{"properties":{"sections":{"items":{"$ref":"#/components/schemas/Section"},"type":"array","title":"Sections"},"boundaries":{"items":{"type":"number"},"type":"array","title":"Boundaries"}},"type":"object","required":["sections","boundaries"],"title":"StructureAnalysis"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VocalAnalysis":{"properties":{"is_vocal":{"type":"boolean","title":"Is Vocal"},"confidence":{"type":"number","title":"Confidence"},"label":{"type":"string","title":"Label"}},"type":"object","required":["is_vocal","confidence","label"],"title":"VocalAnalysis"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","description":"API Key required for authentication. Contact the administrator to receive your API key.","in":"header","name":"X-API-Key"}}},"servers":[{"url":"https://essentia.v1su4.dev","description":"Production API"}],"security":[{"APIKeyHeader":[]}]}